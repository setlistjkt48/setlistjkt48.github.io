<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SetlistJKT48</title>
    <link rel="stylesheet" href="../style.css" />
    <link rel="icon" type="image/png" href="../../Logo SetlistJKT48.png" />
  </head>
  <body>
    <header>
      <div class="container">
        <div class="logo">
          <img src="../../Logo SetlistJKT48.png" alt="SetlistJKT48 Logo" />
          <span class="brand-name">SetlistJKT48</span>
        </div>
        <div class="buttons">
          <button
            class="icon-btn"
            onclick="location.href='https://setlistjkt48.github.io/'"
          >
            üè† Home
          </button>
          <div class="dropdown">
            <button class="icon-btn" id="showBtn">
              üìÖ Show Theater JKT48 ‚ñæ
            </button>
            <div class="dropdown-menu" id="dropdownMenu">
              <a href="../januari/">Januari 2025</a>
              <a href="../februari/">Februari 2025</a>
              <a href="../maret/">Maret 2025</a>
              <a href="../april/">April 2025</a>
              <a href="../mei/">Mei 2025</a>
              <a href="../juni/">Juni 2025</a>
              <a href="../juli/">Juli 2025</a>
              <a href="../agustus/">Agustus 2025</a>
              <a href="../september/">September 2025</a>
              <a href="../oktober/">Oktober 2025</a>
              <a href="../november/">November 2025</a>
            </div>
          </div>
        </div>
        <div class="search">
          <input type="search" id="searchInput" placeholder="Cari video..." />
          <button id="searchBtn">üîç</button>
        </div>
      </div>
    </header>

    <main>
      <div class="grid">
        <section>
          <div class="player-wrap">
            <div class="player-container">
              <div id="player"></div>
            </div>

            <!-- Line-up member -->
            <div class="member-box" id="memberBox">
              <div class="member-title">Line up Member</div>
              <div class="member-grid" id="memberGrid"></div>
              <div class="show-more">
                <button id="toggleBtn">Tampilkan Line up</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Playlist -->
        <aside class="playlist" id="playlist">
          <div class="item" data-video="oyarK7i_ZUs" onclick="loadVideo('oyarK7i_ZUs',0)">
            <div class="thumb"><img src="https://img.youtube.com/vi/oyarK7i_ZUs/hqdefault.jpg" />
            </div>
            <div class="it-title">SAMBIL MENGGANDENG ERAT TANGANKU - 01/05/2025</div>
          </div>
          <div class="item" data-video="P3EOrnIylCY" onclick="loadVideo('P3EOrnIylCY',1)">
            <div class="thumb"><img src="https://img.youtube.com/vi/P3EOrnIylCY/hqdefault.jpg" />
            </div>
            <div class="it-title">ATURAN ANTI CINTA - 02/05/2025</div>
          </div>
          <div class="item" data-video="051mZjEPk4s" onclick="loadVideo('051mZjEPk4s',2)">
            <div class="thumb"><img src="https://img.youtube.com/vi/051mZjEPk4s/hqdefault.jpg" />
            </div>
            <div class="it-title">PAJAMA DRIVE - 03/05/2025</div>
          </div>
          <div class="item" data-video="9xETg0UAtTs" onclick="loadVideo('9xETg0UAtTs',3)">
            <div class="thumb"><img src="https://img.youtube.com/vi/9xETg0UAtTs/hqdefault.jpg" />
            </div>
            <div class="it-title">PAJAMA DRIVE - 04/05/2025</div>
          </div>
          <div class="item" data-video="PNlqSyZQ9F8" onclick="loadVideo('PNlqSyZQ9F8',4)">
            <div class="thumb"><img src="https://img.youtube.com/vi/PNlqSyZQ9F8/hqdefault.jpg" />
            </div>
            <div class="it-title">CARA MEMINUM RAMUNE - 04/05/2025</div>
          </div>
          <div class="item" data-video="dU7RN-fUzlY" onclick="loadVideo('dU7RN-fUzlY',5)">
            <div class="thumb"><img src="https://img.youtube.com/vi/dU7RN-fUzlY/hqdefault.jpg" />
            </div>
            <div class="it-title">ATURAN ANTI CINTA - 08/05/2025</div>
          </div>
          <div class="item" data-video="TTbRe_Kpidc" onclick="loadVideo('TTbRe_Kpidc',6)">
            <div class="thumb"><img src="https://img.youtube.com/vi/TTbRe_Kpidc/hqdefault.jpg" />
            </div>
            <div class="it-title">SAMBIL MENGGANDENG ERAT TANGANKU - 09/05/2025</div>
          </div>
          <div class="item" data-video="hXtkIl3ayvE" onclick="loadVideo('hXtkIl3ayvE',7)">
            <div class="thumb"><img src="https://img.youtube.com/vi/hXtkIl3ayvE/hqdefault.jpg" />
            </div>
            <div class="it-title">INGIN BERTEMU - 10/05/2025</div>
          </div>
          <div class="item" data-video="vkSRvEclm8E" onclick="loadVideo('vkSRvEclm8E',8)">
            <div class="thumb"><img src="https://img.youtube.com/vi/vkSRvEclm8E/hqdefault.jpg" />
            </div>
            <div class="it-title">PAJAMA DRIVE - 11/05/2025</div>
          </div>
          <div class="item" data-video="K9BIcMfqd4M" onclick="loadVideo('K9BIcMfqd4M',9)">
            <div class="thumb"><img src="https://img.youtube.com/vi/K9BIcMfqd4M/hqdefault.jpg" />
            </div>
            <div class="it-title">ATURAN ANTI CINTA - 11/05/2025</div>
          </div>
          <div class="item" data-video="UiECN9oX3-U" onclick="loadVideo('UiECN9oX3-U',10)">
            <div class="thumb"><img src="https://img.youtube.com/vi/UiECN9oX3-U/hqdefault.jpg" />
            </div>
            <div class="it-title">SAMBIL MENGGANDENG ERAT TANGANKU - 15/05/2025</div>
          </div>
          <div class="item" data-video="q5_Lr2FTmog" onclick="loadVideo('q5_Lr2FTmog',11)">
            <div class="thumb"><img src="https://img.youtube.com/vi/q5_Lr2FTmog/hqdefault.jpg" />
            </div>
            <div class="it-title">ATURAN ANTI CINTA - 16/05/2025</div>
          </div>
          <div class="item" data-video="EH0RSF_sXe8" onclick="loadVideo('EH0RSF_sXe8',12)">
            <div class="thumb"><img src="https://img.youtube.com/vi/EH0RSF_sXe8/hqdefault.jpg" />
            </div>
            <div class="it-title">SAMBIL MENGGANDENG ERAT TANGANKU - 17/05/2025</div>
          </div>
          <div class="item" data-video="8VT0JL5ZzIo" onclick="loadVideo('8VT0JL5ZzIo',13)">
            <div class="thumb"><img src="https://img.youtube.com/vi/8VT0JL5ZzIo/hqdefault.jpg" />
            </div>
            <div class="it-title">INGIN BERTEMU - 17/05/2025</div>
          </div>
          <div class="item" data-video="2wqfWeLyneE" onclick="loadVideo('2wqfWeLyneE',14)">
            <div class="thumb"><img src="https://img.youtube.com/vi/2wqfWeLyneE/hqdefault.jpg" />
            </div>
            <div class="it-title">CARA MEMINUM RAMUNE - 18/05/2025</div>
          </div>
          <div class="item" data-video="xbyc2RBn2YU" onclick="loadVideo('xbyc2RBn2YU',15)">
            <div class="thumb"><img src="https://img.youtube.com/vi/xbyc2RBn2YU/hqdefault.jpg" />
            </div>
            <div class="it-title">PAJAMA DRIVE - 18/05/2025</div>
          </div>
          <div class="item" data-video="IKZzCM5sPqI" onclick="loadVideo('IKZzCM5sPqI',16)">
            <div class="thumb"><img src="https://img.youtube.com/vi/IKZzCM5sPqI/hqdefault.jpg" />
            </div>
            <div class="it-title">SAMBIL MENGGANDENG ERAT TANGANKU - 22/05/2025</div>
          </div>
          <div class="item" data-video="hQtWa8onGrQ" onclick="loadVideo('hQtWa8onGrQ',17)">
            <div class="thumb"><img src="https://img.youtube.com/vi/hQtWa8onGrQ/hqdefault.jpg" />
            </div>
            <div class="it-title">PAJAMA DRIVE - 23/05/2025</div>
          </div>
          <div class="item" data-video="M1xVmQdwleY" onclick="loadVideo('M1xVmQdwleY',18)">
            <div class="thumb"><img src="https://img.youtube.com/vi/M1xVmQdwleY/hqdefault.jpg" />
            </div>
            <div class="it-title">SAMBIL MENGGANDENG ERAT TANGANKU - 24/05/2025</div>
          </div>
          <div class="item" data-video="CuMh5czScIc" onclick="loadVideo('CuMh5czScIc',19)">
            <div class="thumb"><img src="https://img.youtube.com/vi/CuMh5czScIc/hqdefault.jpg" />
            </div>
            <div class="it-title">PAJAMA DRIVE - 24/05/2025</div>
          </div>
          <div class="item" data-video="Vqzc-SgKExM" onclick="loadVideo('Vqzc-SgKExM',20)">
            <div class="thumb"><img src="https://img.youtube.com/vi/Vqzc-SgKExM/hqdefault.jpg" />
            </div>
            <div class="it-title">INGIN BERTEMU - 25/05/2025</div>
          </div>
          <div class="item" data-video="Y32zsMDVTSs" onclick="loadVideo('Y32zsMDVTSs',21)">
            <div class="thumb"><img src="https://img.youtube.com/vi/Y32zsMDVTSs/hqdefault.jpg" />
            </div>
            <div class="it-title">CARA MEMINUM RAMUNE - 25/05/2025</div>
          </div>
          <div class="item" data-video="VsyusulEs9w" onclick="loadVideo('VsyusulEs9w',22)">
            <div class="thumb"><img src="https://img.youtube.com/vi/VsyusulEs9w/hqdefault.jpg" />
            </div>
            <div class="it-title">PAJAMA DRIVE - 29/05/2025</div>
          </div>
          <div class="item" data-video="uTY6X7OhxOk" onclick="loadVideo('uTY6X7OhxOk',23)">
            <div class="thumb"><img src="https://img.youtube.com/vi/uTY6X7OhxOk/hqdefault.jpg" />
            </div>
            <div class="it-title">SAMBIL MENGGANDENG ERAT TANGANKU - 30/05/2025</div>
          </div>
          <div class="item" data-video="q2wte4cRJow" onclick="loadVideo('q2wte4cRJow',24)">
            <div class="thumb"><img src="https://img.youtube.com/vi/q2wte4cRJow/hqdefault.jpg" />
            </div>
            <div class="it-title">PAJAMA DRIVE - 31/05/2025</div>
          </div>
          <div class="item" data-video="FnOUwo7RWAU" onclick="loadVideo('FnOUwo7RWAU',25)">
            <div class="thumb"><img src="https://img.youtube.com/vi/FnOUwo7RWAU/hqdefault.jpg" />
            </div>
            <div class="it-title">ATURAN ANTI CINTA (STS CATHY) - 31/05/2025</div>
          </div>
        </aside>
      </div>
      <footer>Copyright ¬© 2025 SetlistJKT48</footer>
    </main>

    <!-- YouTube API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
      // === Konfigurasi URL Apps Script Web App ===
      const APP_SCRIPT_URL =
        "https://script.google.com/macros/s/AKfycbyaC-dRyS85-2iSBSQT_WR33TysVkmm6lmkhfRD3S8s1aDQwVOo6NTL3vT6s19rZMJ6nA/exec";

      // === Lama cache email (dalam milidetik) ===
      const CACHE_DURATION = 3 * 24 * 60 * 60 * 1000; // 3 hari

      // Simpan email + timestamp ke localStorage
      function saveEmailCache(email) {
        const data = {
          email: email,
          timestamp: Date.now(),
        };
        localStorage.setItem("verifiedEmail", JSON.stringify(data));
      }

      // Ambil email dari cache (jika masih berlaku)
      function loadEmailCache() {
        const raw = localStorage.getItem("verifiedEmail");
        if (!raw) return null;

        try {
          const data = JSON.parse(raw);
          const now = Date.now();

          if (now - data.timestamp > CACHE_DURATION) {
            // sudah lebih dari 3 hari
            localStorage.removeItem("verifiedEmail");
            return null;
          }

          return data.email;
        } catch {
          localStorage.removeItem("verifiedEmail");
          return null;
        }
      }

      // === Fungsi verifikasi email ===
      async function verifyEmail() {
        // Cek cache email sebelumnya
        let cachedEmail = loadEmailCache();
        if (cachedEmail) {
          console.log("Email dari cache:", cachedEmail);
          return true; // sudah pernah login
        }

        // Tampilkan prompt input email
        const email = prompt(
          "Halaman untuk Membership. Masukkan email kamu untuk melanjutkan:"
        );
        if (!email) {
          alert("Email wajib diisi.");
          window.location.reload();
          return false;
        }

        try {
          // Kirim ke Apps Script untuk verifikasi
          const response = await fetch(
            `${APP_SCRIPT_URL}?email=${encodeURIComponent(email)}`
          );
          const data = await response.json();

          if (data.valid === true) {
            saveEmailCache(email);
            alert("Login berhasil!");
            return true;
          } else {
            alert("Email tidak terdaftar. Akses ditolak.");
            window.location.href = "https://setlistjkt48.github.io/";
            return false;
          }
        } catch (err) {
          console.error(err);
          alert("Terjadi kesalahan koneksi ke server.");
          return false;
        }
      }

      // Jalankan verifikasi sebelum halaman tampil
      document.addEventListener("DOMContentLoaded", async () => {
        const ok = await verifyEmail();
        if (!ok) {
          document.body.innerHTML =
            "<h2 style='color:white;text-align:center;margin-top:40vh;'>Akses ditolak</h2>";
        }
      });
    </script>
    <script src="../script.js"></script>
    <script>
      // === Lineup Data ===
      const videoLineup = [
        [
          "Anindya", "Cathy", "Oniel", "Cynthia", "Daisy", "Fiony", "Gracie", "Indira", "Jessi", "Michie", "Muthe", "Raisha"
        ],
        [
          "Alya", "Amanda", "Anindya", "Cathy", "Danella", "Daisy", "Olla", "Ella", "Gendis", "Gracie", "Greesel", "Eli", "Indah", "Indira", "Lyn", "Michie"
        ],
        [
          "Aralie", "Lily", "Ekin", "Trisha", "Levi", "Nayla", "Nachia", "Intan", "Oline", "Regie", "Nala", "Kimmy"
        ],
        [
          "Aralie", "Delynn", "Lily", "Ekin", "Trisha", "Nayla", "Intan", "Oline", "Regie", "Ribka", "Nala", "Kimmy"
        ],
        [
          "Christy", "Lana", "Chelsea", "Danella", "Olla", "Fritzy", "Ella", "Gita", "Gracie", "Greesel", "Eli", "Indah", "Jessi", "Lyn", "Marsha", "Muthe"
        ],
        [
          "Amanda", "Anindya", "Cathy", "Chelsea", "Cynthia", "Daisy", "Olla", "Ella", "Gendis", "Gracie", "Greesel", "Eli", "Indah", "Lyn", "Michie", "Raisha"
        ],
        [
          "Alya", "Cathy", "Elin", "Olla", "Freya", "Gendis", "Gita", "Greesel", "Indira", "Marsha", "Raisha", "Gracia"
        ],
        [
          "Virgi", "Auwia", "Rilly", "Giaa", "Maira", "Ekin", "Trisha", "Jemima", "Mikaela", "Nachia", "Intan", "Oline"
        ],
        [
          "Aralie", "Lily", "Ekin", "Trisha", "Levi", "Nayla", "Intan", "Oline", "Regie", "Ribka", "Nala", "Kimmy"
        ],
        [
          "Amanda", "Christy", "Anindya", "Lia", "Danella", "Feni", "Fiony", "Gendis", "Gracie", "Indira", "Lulu", "Michie", "Raisha", "Delynn", "Lily", "Regie"
        ],
        [
          "Christy", "Anindya", "Cathy", "Elin", "Olla", "Fiony", "Freya", "Gendis", "Greesel", "Indira", "Jessi", "Lyn"
        ],
        [
          "Anindya", "Cathy", "Elin", "Chelsea", "Danella", "Daisy", "Olla", "Freya", "Ella", "Gendis", "Greesel", "Eli", "Indira", "Lyn", "Michie", "Muthe"
        ],
        [
          "Lia", "Chelsea", "Oniel", "Cynthia", "Danella", "Feni", "Gracie", "Indah", "Jessi", "Marsha", "Michie", "Ribka"
        ],
        [
          "Aralie", "Virgi", "Erine", "Giaa", "Lily", "Maira", "Trisha", "Nayla", "Nachia", "Intan", "Oline", "Kimmy"
        ],
        [
          "Christy", "Lia", "Cathy", "Oniel", "Cynthia", "Danella", "Freya", "Ella", "Gita", "Greesel", "Eli", "Jessi", "Lyn", "Lulu", "Michie", "Muthe"
        ],
        [
          "Auwia", "Erine", "Giaa", "Lily", "Ekin", "Trisha", "Jemima", "Nayla", "Nachia", "Intan", "Oline", "Kimmy"
        ],
        [
          "Anindya", "Cathy", "Daisy", "Fiony", "Gendis", "Gracie", "Eli", "Indira", "Kathrina", "Marsha", "Michie", "Raisha"
        ],
        [
          "Aralie", "Delynn", "Erine", "Lily", "Ekin", "Trisha", "Nachia", "Intan", "Oline", "Regie", "Nala", "Kimmy"
        ],
        [
          "Christy", "Lia", "Danella", "Ella", "Gita", "Lyn", "Kathrina", "Erine", "Regie", "Ribka", "Nala", "Kimmy"
        ],
        [
          "Aralie", "Auwia", "Giaa", "Lily", "Ekin", "Trisha", "Levi", "Nayla", "Nachia", "Intan", "Oline", "Kimmy"
        ],
        [
          "Delynn", "Virgi", "Auwia", "Rilly", "Giaa", "Maira", "Ekin", "Trisha", "Mikaela", "Nayla", "Nachia", "Intan"
        ],
        [
          "Lia", "Oniel", "Cynthia", "Fiony", "Freya", "Fritzy", "Gita", "Indira", "Kathrina", "Michie", "Muthe", "Gracia", "Nayla", "Oline", "Nala", "Kimmy"
        ],
        [
          "Aralie", "Delynn", "Lily", "Ekin", "Trisha", "Nayla", "Nachia", "Intan", "Oline", "Regie", "Nala", "Kimmy"
        ],
        [
          "Anindya", "Lana", "Cathy", "Chelsea", "Danella", "Fiony", "Fritzy", "Eli", "Jessi", "Marsha", "Michie", "Raisha"
        ],
        [
          "Auwia", "Erine", "Giaa", "Lily", "Ekin", "Trisha", "Jemima", "Mikaela", "Intan", "Oline", "Ribka", "Kimmy"
        ],
        [
          "Anindya", "Cathy", "Elin", "Chelsea", "Daisy", "Olla", "Ella", "Gendis", "Gita", "Greesel", "Indah", "Indira", "Lyn", "Kathrina", "Michie", "Raisha"
        ],
      ];
    </script>
  </body>
</html>
