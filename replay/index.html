<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SetlistJKT48</title>
  <style>
    :root {
      --bg: #0f0f0f; --text: #e5e5e5; --muted: #a0a0a0;
      --accent: #ec4899; --hover: rgba(255,255,255,0.08);
      --maxwidth: 1180px; --gap: 16px; --radius: 12px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Inter,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text);}
    header{
      position:sticky;top:0;background:rgba(15,15,15,0.9);
      backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,0.05);z-index:40;
    }
    .container{
      max-width:var(--maxwidth);margin:0 auto;padding:10px 12px;
      display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px;
    }
    .logo{display:flex;align-items:center;gap:10px}
    .logo img{height:36px;border-radius:6px}
    .brand-name{font-weight:500;font-size:19px;color:#f0f0f0;letter-spacing:0.3px}
    .search{flex:1;display:flex;align-items:center;min-width:180px}
    .search input{
      flex:1;padding:8px 12px;border-radius:6px 0 0 6px;
      border:0;background:rgba(255,255,255,0.1);color:inherit;font-size:15px;
    }
    .search button{
      background:rgba(255,255,255,0.12);color:#fff;border:0;
      border-radius:0 6px 6px 0;padding:8px 12px;cursor:pointer;
    }
    .buttons{display:flex;align-items:center;gap:8px}
    .icon-btn{
      padding:8px 10px;border-radius:8px;background:var(--hover);
      border:0;color:var(--muted);cursor:pointer;font-size:14px;transition:0.2s;
    }
    .icon-btn:hover{background:rgba(255,255,255,0.15);color:#fff;}
    main{max-width:var(--maxwidth);margin:18px auto;padding:0 12px}
    .grid{display:grid;grid-template-columns:1fr 360px;gap:var(--gap)}
    .player-wrap{background:#111;padding:12px;border-radius:var(--radius)}
    .player-container{position:relative;width:100%;aspect-ratio:16/9;background:#000;border-radius:10px;overflow:hidden;}
    iframe{width:100%;height:100%;border:0;}
    .playlist{
      background:#0b0d12;padding:12px;border-radius:var(--radius);
      max-height:72vh;overflow:auto;
    }
    .item{display:flex;gap:10px;padding:8px;border-radius:8px;cursor:pointer;align-items:center;transition:0.2s;color:var(--muted);}
    .item:hover{background:rgba(255,255,255,0.06);color:#f1f1f1;}
    .thumb{width:100%;max-width:140px;aspect-ratio:16/9;flex-shrink:0;background:#222;border-radius:6px;overflow:hidden;}
    .thumb img{width:100%;height:100%;object-fit:cover;}
    .it-title{font-size:14px;font-weight:400;color:#e0e0e0;line-height:1.3em;}
    footer{margin-top:20px;padding:18px 12px;text-align:center;color:var(--muted);font-size:13px;}
    @media(max-width:900px){.grid{grid-template-columns:1fr}.playlist{max-height:none;margin-top:10px}}
    @media(max-width:600px){
      .container{flex-direction:column;align-items:stretch;gap:8px;}
      .logo{justify-content:center;}
      .brand-name{font-size:17px;}
      .search{order:3;width:100%;}
      .buttons{order:2;justify-content:center;}
      .icon-btn{font-size:13px;padding:6px 10px;}
      .search input{font-size:14px;padding:8px;}
      .search button{padding:8px 10px;}
    }

    /* === Lineup Section === */
    .member-box {
      margin-top: 16px;
      background: #111;
      border-radius: 10px;
      padding: 12px;
      transition: max-height 0.4s ease, opacity 0.3s ease;
      overflow: hidden;
    }
    .member-title {
      font-size: 17px;
      font-weight: 500;
      margin-bottom: 10px;
      color: #f5f5f5;
      text-align: center;
    }
    .member-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
      transition: opacity 0.3s ease;
    }
    .member {
      text-align: center;
      background: rgba(255,255,255,0.03);
      border-radius: 8px;
      padding: 8px;
      transition: transform 0.25s;
    }
    .member:hover { transform: scale(1.03); }
    .member img {
      width: 100%;
      aspect-ratio: 3/4;
      object-fit: cover;
      border-radius: 6px;
      margin-bottom: 6px;
    }
    .member-name {
      font-size: 14px;
      color: #e8e8e8;
      font-weight: 400;
    }
    .show-more {
      display: flex;
      justify-content: center;
      margin-top: 10px;
    }
    .show-more button {
      background: var(--accent);
      color: #fff;
      border: none;
      padding: 8px 18px;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.25s;
      font-size: 14px;
    }
    .show-more button:hover { background: #ff67b7; }
    @media (max-width:800px) {
  /* sebelumnya di sini jadi 2 kolom, kita ubah jadi 4 */
  .member-grid { 
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    transform: scale(1); /* perkecil seluruh grid */
    transform-origin: top center;
  }
  .member img {
    border-radius: 5px;
  }
  .member-name {
    font-size: 12px;
  }
}

/* tambahan untuk layar lebih kecil, misal HP di bawah 500px */
@media (max-width:500px) {
  .member-grid {
    transform: scale(1);
    gap: 6px;
  }
  .member-name {
    font-size: 11px;
  }
}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">
        <img src="Logo SetlistJKT48.png" alt="SetlistJKT48 Logo">
        <span class="brand-name">SetlistJKT48</span>
      </div>
      <div class="buttons">
        <button class="icon-btn" onclick="location.href='https://setlistjkt48.github.io/'">üè† Home</button>
        <button class="icon-btn" onclick="window.open('https://youtube.com/@SetlistJKT48','_blank')">YouTube</button>
      </div>
      <div class="search">
        <input type="search" placeholder="Cari video..." />
        <button>üîç</button>
      </div>
    </div>
  </header>

  <main>
    <div class="grid">
      <section>
        <div class="player-wrap">
          <div class="player-container">
            <div id="player"></div>
          </div>

          <!-- Line-up member -->
          <div class="member-box" id="memberBox">
            <div class="member-title">Line up Member</div>
            <div class="member-grid" id="memberGrid"></div>
            <div class="show-more"><button id="toggleBtn">Tampilkan lebih banyak</button></div>
          </div>
        </div>
      </section>

      <!-- Playlist -->
      <aside class="playlist" id="playlist">
        <div class="item" onclick="loadVideo('Obm-QTUnYhE',0)">
          <div class="thumb"><img src="https://img.youtube.com/vi/Obm-QTUnYhE/hqdefault.jpg"></div>
          <div class="it-title">SetlistJKT48 - Video 1</div>
        </div>
        <div class="item" onclick="loadVideo('2KZ9DRTyA08',1)">
          <div class="thumb"><img src="https://img.youtube.com/vi/2KZ9DRTyA08/hqdefault.jpg"></div>
          <div class="it-title">SetlistJKT48 - Video 2</div>
        </div>
        <div class="item" onclick="loadVideo('JeK2dtWOOTE',2)">
          <div class="thumb"><img src="https://img.youtube.com/vi/JeK2dtWOOTE/hqdefault.jpg"></div>
          <div class="it-title">SetlistJKT48 - Video 3</div>
        </div>
        <div class="item" onclick="loadVideo('3biwP8ik3J0',3)">
          <div class="thumb"><img src="https://img.youtube.com/vi/3biwP8ik3J0/hqdefault.jpg"></div>
          <div class="it-title">SetlistJKT48 - Video 4</div>
        </div>
      </aside>
    </div>
    <footer>Copyright ¬© 2025 SetlistJKT48</footer>
  </main>

  <!-- YouTube API -->
  <script src="https://www.youtube.com/iframe_api"></script>
<script>
  let player;
  let currentIndex = 0;

  // === YouTube Player Setup ===
  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      height: '100%',
      width: '100%',
      videoId: 'Obm-QTUnYhE', // video pertama
      playerVars: { autoplay: 0, controls: 1, rel: 0, modestbranding: 1, fs: 1 },
      events: { 
        onReady: () => loadLineup(0),
        onStateChange: onPlayerStateChange
      }
    });
  }

  // optional: simpan index aktif biar tahu lineup mana yang harus ditampilkan
  function onPlayerStateChange(event) {
    if (event.data === YT.PlayerState.ENDED) {
      console.log("Video selesai diputar");
    }
  }

  // === Ganti Video dari Playlist ===
  function loadVideo(videoId, index) {
    currentIndex = index;
    if (player && typeof player.loadVideoById === "function") {
      player.loadVideoById(videoId);
      loadLineup(index);
      window.scrollTo({ top: 0, behavior: 'smooth' });
    } else {
      // fallback: jika player belum siap, tunggu sedikit lalu coba lagi
      const wait = setInterval(() => {
        if (player && typeof player.loadVideoById === "function") {
          clearInterval(wait);
          player.loadVideoById(videoId);
          loadLineup(index);
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }
      }, 400);
    }
  }

  // === Lineup Data ===
  const videoLineup = [
    ["Freya","Feni","Gracia","Zee","Indah","Flora","Christy","Oniel","Lulu","Adel","Lia","Callie","Cathy","Ella","Lia2","Jessi"],
    ["Freya","Flora","Zee","Gracia","Indah","Cathy","Oniel","Lulu","Feni","Ella","Callie","Jessi","Lia","Christy","Adel","Lia2"],
    ["Zee","Freya","Gracia","Christy","Oniel","Lulu","Adel","Cathy","Feni","Ella","Callie","Jessi","Lia","Flora","Indah","Lia2"],
    ["Christy","Freya","Feni","Gracia","Zee","Indah","Flora","Oniel","Lulu","Adel","Lia","Callie","Cathy","Ella","Jessi","Lia2"]
  ];

  const grid = document.getElementById("memberGrid");
  const btn = document.getElementById("toggleBtn");
  let expanded = false;

  function loadLineup(index){
    grid.innerHTML = "";
    const members = videoLineup[index];
    members.forEach(name=>{
      const card = document.createElement("div");
      card.className = "member";
      card.innerHTML = `
        <img src="/assets/img/${name.toLowerCase()}.jpg" alt="${name}">
        <div class="member-name">${name}</div>
      `;
      grid.appendChild(card);
    });
    updateVisibleMembers();
  }

  function updateVisibleMembers(){
    const cards = [...grid.children];
    cards.forEach((c,i)=>{
      c.style.display = (expanded || i < 0) ? "block" : "none";
    });
    btn.textContent = expanded ? "Tampilkan lebih sedikit" : "Tampilkan lebih banyak";
  }

  btn.addEventListener("click", ()=>{
    expanded = !expanded;
    updateVisibleMembers();
  });
</script>

</body>
</html>
